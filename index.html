<script>
  document.addEventListener("DOMContentLoaded", async () => {
    const mindarThree = new window.MINDAR.IMAGE.MindARThree({
      container: document.body,
      imageTargetSrc: "./qrkod.mind",
    });

    const {renderer, scene, camera} = mindarThree;
    const anchor = mindarThree.addAnchor(0);

    let model;

    anchor.onTargetFound = () => {
      if (!model) {
        const loader = new THREE.GLTFLoader();
        loader.load("./model.glb", (gltf) => {
          model = gltf.scene;
          model.scale.set(0.5, 0.5, 0.5);
          model.position.set(0, 0, 0);
          anchor.group.add(model);
        });
      }
    };

    anchor.onTargetLost = () => {
      // model kaybolmasÄ±n
    };

    await mindarThree.start();

    renderer.setSize(window.innerWidth, window.innerHeight);
    window.addEventListener('resize', () => {
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    renderer.setAnimationLoop(() => {
      renderer.render(scene, camera);
    });
  });
</script>
